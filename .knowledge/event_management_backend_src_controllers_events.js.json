{"is_source_file": true, "format": "JavaScript", "description": "This file contains controller functions for handling HTTP requests related to event management, including listing, retrieving, creating, updating, deleting events, and listing attendees. It operates as part of an Express.js application using Mongoose models.", "external_files": ["../models/Event", "../models/RSVP"], "external_methods": ["require('express-validator').validationResult", "Event.find", "Event.findById", "Event.create", "ev.save", "RSVP.deleteMany"], "published": ["listEvents", "getEvent", "createEvent", "updateEvent", "deleteEvent", "listAttendees"], "classes": [], "methods": [{"name": "listEvents(req, res)", "description": "Lists events based on optional query filters for search text ('q') and ownership ('my'). Returns public events or those owned by the requesting user.", "scope": "", "scopeKind": ""}, {"name": "getEvent(req, res)", "description": "Retrieves details of a specific event by ID, including populated organizer and attendees information.", "scope": "", "scopeKind": ""}, {"name": "createEvent(req, res)", "description": "Creates a new event using data from the request body. The user must be authenticated and specified as the organizer.", "scope": "", "scopeKind": ""}, {"name": "updateEvent(req, res)", "description": "Updates an existing event identified by ID, only if the requesting user is the organizer.", "scope": "", "scopeKind": ""}, {"name": "deleteEvent(req, res)", "description": "Deletes an event if the requester is the organizer, along with associated RSVP records.", "scope": "", "scopeKind": ""}, {"name": "listAttendees(req, res)", "description": "Lists attendees for a specific event by ID.", "scope": "", "scopeKind": ""}], "calls": ["validationResult(req)", "Event.find(filter)", "Event.findById(req.params.id)", "Event.create(payload)", "ev.save()", "RSVP.deleteMany({ event: ev._id })"], "search-terms": ["Express.js event controller", "event management backend", "event CRUD operations", "attendees listing", "RSVP data handling"], "state": 2, "file_id": 19, "knowledge_revision": 41, "git_revision": "", "ctags": [{"_type": "tag", "name": "$options", "path": "/home/kavia/workspace/code-generation/eventmaster-162273-162282/event_management_backend/src/controllers/events.js", "pattern": "/^    filter.title = { $regex: q, $options: 'i' };$/", "language": "JavaScript", "kind": "property", "scope": "filter.title", "scopeKind": "class"}, {"_type": "tag", "name": "$regex", "path": "/home/kavia/workspace/code-generation/eventmaster-162273-162282/event_management_backend/src/controllers/events.js", "pattern": "/^    filter.title = { $regex: q, $options: 'i' };$/", "language": "JavaScript", "kind": "property", "scope": "filter.title", "scopeKind": "class"}, {"_type": "tag", "name": "Event", "path": "/home/kavia/workspace/code-generation/eventmaster-162273-162282/event_management_backend/src/controllers/events.js", "pattern": "/^const Event = require('..\\/models\\/Event');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "RSVP", "path": "/home/kavia/workspace/code-generation/eventmaster-162273-162282/event_management_backend/src/controllers/events.js", "pattern": "/^const RSVP = require('..\\/models\\/RSVP');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "capacity", "path": "/home/kavia/workspace/code-generation/eventmaster-162273-162282/event_management_backend/src/controllers/events.js", "pattern": "/^    capacity: req.body.capacity ?? 0,$/", "language": "JavaScript", "kind": "property", "scope": "createEvent.payload", "scopeKind": "class"}, {"_type": "tag", "name": "createEvent", "path": "/home/kavia/workspace/code-generation/eventmaster-162273-162282/event_management_backend/src/controllers/events.js", "pattern": "/^async function createEvent(req, res) {$/", "language": "JavaScript", "kind": "function", "signature": "(req, res)"}, {"_type": "tag", "name": "deleteEvent", "path": "/home/kavia/workspace/code-generation/eventmaster-162273-162282/event_management_backend/src/controllers/events.js", "pattern": "/^async function deleteEvent(req, res) {$/", "language": "JavaScript", "kind": "function", "signature": "(req, res)"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/eventmaster-162273-162282/event_management_backend/src/controllers/events.js", "pattern": "/^    description: req.body.description,$/", "language": "JavaScript", "kind": "property", "scope": "createEvent.payload", "scopeKind": "class"}, {"_type": "tag", "name": "endTime", "path": "/home/kavia/workspace/code-generation/eventmaster-162273-162282/event_management_backend/src/controllers/events.js", "pattern": "/^    endTime: req.body.endTime,$/", "language": "JavaScript", "kind": "property", "scope": "createEvent.payload", "scopeKind": "class"}, {"_type": "tag", "name": "getEvent", "path": "/home/kavia/workspace/code-generation/eventmaster-162273-162282/event_management_backend/src/controllers/events.js", "pattern": "/^async function getEvent(req, res) {$/", "language": "JavaScript", "kind": "function", "signature": "(req, res)"}, {"_type": "tag", "name": "isPublic", "path": "/home/kavia/workspace/code-generation/eventmaster-162273-162282/event_management_backend/src/controllers/events.js", "pattern": "/^    isPublic: req.body.isPublic ?? true,$/", "language": "JavaScript", "kind": "property", "scope": "createEvent.payload", "scopeKind": "class"}, {"_type": "tag", "name": "listAttendees", "path": "/home/kavia/workspace/code-generation/eventmaster-162273-162282/event_management_backend/src/controllers/events.js", "pattern": "/^async function listAttendees(req, res) {$/", "language": "JavaScript", "kind": "function", "signature": "(req, res)"}, {"_type": "tag", "name": "listEvents", "path": "/home/kavia/workspace/code-generation/eventmaster-162273-162282/event_management_backend/src/controllers/events.js", "pattern": "/^  listEvents,$/", "language": "JavaScript", "kind": "field", "scope": "module.exports", "scopeKind": "class"}, {"_type": "tag", "name": "listEvents", "path": "/home/kavia/workspace/code-generation/eventmaster-162273-162282/event_management_backend/src/controllers/events.js", "pattern": "/^async function listEvents(req, res) {$/", "language": "JavaScript", "kind": "function", "signature": "(req, res)"}, {"_type": "tag", "name": "location", "path": "/home/kavia/workspace/code-generation/eventmaster-162273-162282/event_management_backend/src/controllers/events.js", "pattern": "/^    location: req.body.location,$/", "language": "JavaScript", "kind": "property", "scope": "createEvent.payload", "scopeKind": "class"}, {"_type": "tag", "name": "organizer", "path": "/home/kavia/workspace/code-generation/eventmaster-162273-162282/event_management_backend/src/controllers/events.js", "pattern": "/^    organizer: req.user._id,$/", "language": "JavaScript", "kind": "property", "scope": "createEvent.payload", "scopeKind": "class"}, {"_type": "tag", "name": "payload", "path": "/home/kavia/workspace/code-generation/eventmaster-162273-162282/event_management_backend/src/controllers/events.js", "pattern": "/^  const payload = {$/", "language": "JavaScript", "kind": "class", "scope": "createEvent", "scopeKind": "class"}, {"_type": "tag", "name": "startTime", "path": "/home/kavia/workspace/code-generation/eventmaster-162273-162282/event_management_backend/src/controllers/events.js", "pattern": "/^    startTime: req.body.startTime,$/", "language": "JavaScript", "kind": "property", "scope": "createEvent.payload", "scopeKind": "class"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/eventmaster-162273-162282/event_management_backend/src/controllers/events.js", "pattern": "/^    filter.title = { $regex: q, $options: 'i' };$/", "language": "JavaScript", "kind": "class", "scope": "filter", "scopeKind": "class"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/eventmaster-162273-162282/event_management_backend/src/controllers/events.js", "pattern": "/^    title: req.body.title,$/", "language": "JavaScript", "kind": "property", "scope": "createEvent.payload", "scopeKind": "class"}, {"_type": "tag", "name": "updateEvent", "path": "/home/kavia/workspace/code-generation/eventmaster-162273-162282/event_management_backend/src/controllers/events.js", "pattern": "/^async function updateEvent(req, res) {$/", "language": "JavaScript", "kind": "function", "signature": "(req, res)"}], "hash": "51dc6e1711c05bac72755af3e0c94376", "format-version": 4, "code-base-name": "event_management_backend", "filename": "event_management_backend/src/controllers/events.js", "fields": [{"name": "filter.title = { $regex: q, $options: 'i' };", "scope": "filter.title", "scopeKind": "class", "description": "unavailable"}, {"name": "capacity: req.body.capacity ?? 0,", "scope": "createEvent.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "description: req.body.description,", "scope": "createEvent.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "endTime: req.body.endTime,", "scope": "createEvent.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "isPublic: req.body.isPublic ?? true,", "scope": "createEvent.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "listEvents,", "scope": "module.exports", "scopeKind": "class", "description": "unavailable"}, {"name": "location: req.body.location,", "scope": "createEvent.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "organizer: req.user._id,", "scope": "createEvent.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "startTime: req.body.startTime,", "scope": "createEvent.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "title: req.body.title,", "scope": "createEvent.payload", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"41": ""}]}